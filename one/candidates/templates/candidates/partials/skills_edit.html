{% load i18n %}
<section id="skills_edit" x-data="{showSkillSort : $persist(false), showSkillDelete : $persist(false) }">
  <h2>
    {% translate "Skills" %}
    <button x-on:click="showSkillSort = !showSkillSort;" x-bind:class="showSkillSort? 'no-border' : 'no-border outline'"
            x-bind:title="showSkillSort? '{% translate "Hide sorting buttons" %}' : '{% translate "Show sorting buttons" %}' ">
      <i class="bi bi-list"></i>
      <sup><i x-bind:class="showSkillSort? 'bi bi-eye-slash' : 'bi bi-eye' "></i></sup>
    </button>
    <button x-on:click="showSkillDelete = !showSkillDelete;" x-bind:class="showSkillDelete? 'no-border' : 'no-border outline'"
            x-bind:title="showSkillDelete? '{% translate "Hide deleting buttons" %}' : '{% translate "Show deleting buttons" %}'">
      <i class="bi bi-trash" ></i>
      <sup><i x-bind:class="showSkillDelete? 'bi bi-eye-slash' : 'bi bi-eye' "></i></sup>
    </button>
  </h2>
  <div id="skill_edit_list" class="sortable"
    hx-post="{{ candidate.hx_skill_order_url }}"
    hx-swap="none"
    hx-trigger="end delay:200ms"
    hx-include="#skill_edit_list .sortable-item input[name='order']"
    >
    {% for skill_edit_form in skill_edit_forms %}
      {% include "candidates/partials/skill_edit_form.html" %}
    {% endfor %}
  </div>
  <div x-data="{showSkillNew: $persist(false) }"  >
    <button
      x-on:click="showSkillNew = !showSkillNew;"
      x-bind:class="showSkillNew? 'no-border text-center' : 'no-border outline text-center'"
      title="{% translate 'Add a new skill' %}">
      <i class="bi bi-plus-circle-fill"></i>
    </button>
    <div x-show="showSkillNew" class="mt-3">
      {% include "candidates/partials/skill_new_form.html" %}
    </div>
  </div>
</section>
